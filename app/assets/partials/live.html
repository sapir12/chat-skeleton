<h1 class="main_title">Live Chats</h1>
<div class="container" ng-controller="LiveCtrl" ng-init="live.init()">
  <div class="row">

    <div class="col s9">
      <ul ng-repeat="thisSupp in live.supporters">
        <li ng-class="{active: thisSupp.name == live.displayedSupporter}" ng-click="live.setActiveSupporterASM(thisSupp)">{{thisSupp.name}}</li>
      </ul>
    </div>

    <div class="col s3">
      <ul class="card-panel collection with-header">
        <li class="collection-header">
          <h5>Active Chats</h5>
          {{live.displayedSupporter}}
        </li>
        <a ng-show="live.showChatList" ng-repeat="(thisChat, values) in live.activeSupporter" href="#!" id="{{thisChat.channel}}" class="collection-item" ng-class="{active: thisChat == live.activeChat, newMessage: thisChat.unreadMessage}">
          <!-- <span class="exit-user" ng-show="thisChat.unreadMessage">
            <div class="inside-text-user">
              <b>unread message!</b>
            </div>
          </span> -->
          <span class="exit-user" ng-click="live.setActiveChat(values, values.name)">
            <div class="inside-text-user" ng-class="{active: values.chatChannel == live.displayedChat}">
              {{values.time}}
            </div>
          </span>
        </a>
      </ul>
    </div>

    <div class="col s9" ng-show="live.show">
      <div class="chat-player-container card-panel white" ng-repeat="message in live.activeChat.conversation">
        <div class="card-panel grey lighten-5 z-depth-1">
          <div class="row valign-wrapper">
            
            <div class="col s1">
              <img src="images/user.png" alt="" class="circle responsive-img">
              <!-- notice the "circle" class -->
            </div>

            <div class="col s11">
              <span class="black-text">
                <strong>{{message.time}} {{message.name}}:</strong>
                {{message.text}}
              </span>
            </div>

          </div>
        </div>
      </div>
    </div>
  
  </div>
</div>